# RFC 20260113000715 - Release v1.42.2

## Staging
Release version v1.42.2.

## My Request
20260113000715

## Implementation Details

### Objective
Enhance the Anki Front template to visually highlight words from the `WordSourceInflectedForm` field within the `SentenceSource` text. This is intended to aid rapid navigation and comparison during study and previewing.

### Analytics and Decisions
1.  **JavaScript-Based Highlighting**: Mustache tags are static. To highlight words within a field, JavaScript is required to process the rendered HTML.
2.  **Unicode Support**: The cards often contain non-Latin characters (Cyrillic for Russian/Ukrainian). The highlighting logic uses Unicode-aware regular expression property escapes (`\p{L}`) to ensure correct word boundary detection across different scripts.
3.  **AnkiDroid Compatibility**: Older versions of the Android WebView do not support some modern JS regex features. A fallback mechanism using simpler word-boundary regex was implemented to ensure the cards remain functional on AnkiDroid.
4.  **Intelligent Parsing**:
    - Words are split by common delimiters (comma, space, semicolon, newline, parentheses).
    - Words are sorted by length (descending) before matching to ensure that phrases or longer versions of a word are matched before shorter substrings.
5.  **Visual Presentation**:
    - The entire sentence context is dimmed (greyed out) when a `WordSource` is present to reduce clutter.
    - Highlighted words are rendered in the primary text color (black/white) while the rest of the text remains dimmed.
    - Initial experiments with bolding and underlining were performed; the final decision was to use color distinction alone for a cleaner aesthetic.
6.  **Conditional Logic**: The darkening effect only applies if `WordSource` is present, avoiding unnecessary dimming for cards that only present a full sentence.

### Changes
- Modified `basic-20240218092126/card-1/1.Front.template.anki` to include the `highlightWords` script.
- Added unique IDs and conditional context classes to HTML elements.
- Updated `basic-20240218092126/Styling.css` with highlight-specific rules for night mode support.
